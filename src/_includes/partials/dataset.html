<article class="dataset-container">
  {% if page.url === "/" %}
  <h2 class="dataset-random">Random Dataset of the Day</h2>
  {% endif %}
  <div class="heading-wrapper">
    <{{ headingLevel if headingLevel else 'h2' }} class="dataset-title">
      {{ datakey.title | safe }}
    </{{ headingLevel if headingLevel else 'h2' }}>
      <a href="/{{ datakey.title | slug }}/" class="anchor-link">
        <span class="anchor-icon-dataset">
          {% include 'partials/anchor-icon.html' %}
        </span>
        <span class="visually-hidden">(permalink)</span>
      </a>
  </div>


  {# ------ Links to datasets ------ #}
  <div class="data-format-list data-format-links">
    <span class="visually-hidden">Available data formats</span>
  {% if datakey.googleSheet %}
    <a href="{{ datakey.googleSheet }}" class="data-format">
      <svg xmlns="http://www.w3.org/2000/svg" class="data-format-icon" width="20" height="20" viewBox="0 0 512 512" aria-hidden="true" focusable="false">
        <path fill="currentColor" d="M339 314.9L175.4 32h161.2l163.6 282.9H339zm-137.5 23.6L120.9 480h310.5L512 338.5H201.5zM154.1 67.4L0 338.5 80.6 480 237 208.8 154.1 67.4z"/></svg>
      <div class="data-format-item data-format-text">Google <span class="visually-hidden">Sheet</span></div>
    </a>
    {% endif %}

    {% if datakey.csv %}
    <a href="{{ datakey.csv }}" class="data-format">
      <svg xmlns="http://www.w3.org/2000/svg" class="data-format-icon" width="20" height="20" viewBox="0 0 384 512" aria-hidden="true" focusable="false">
        <path fill="currentColor" d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"/></svg>
      <div class="data-format-item data-format-text">CSV <span class="visually-hidden">file</span></div>
    </a>
    {% endif %}

    {% if datakey.xlsx %}
    <a href="{{ datakey.xlsx }}" class="data-format">
      <svg xmlns="http://www.w3.org/2000/svg" class="data-format-icon" fill="currentColor" width="20" height="20" viewBox="0 0 384 512" aria-hidden="true" focusable="false">
        <path fill="currentColor" d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"/></svg>
      <div class="data-format-item data-format-text">XSLX <span class="visually-hidden">file</span></div>
    </a>
    {% endif %}

    {% if datakey.dropbox %}
    <a href="{{ datakey.dropbox }}" class="data-format">
      <svg xmlns="http://www.w3.org/2000/svg" class="data-format-icon" width="20" height="20" viewBox="0 0 528 512" aria-hidden="true" focusable="false">
        <path fill="currentColor" d="M264.4 116.3l-132 84.3 132 84.3-132 84.3L0 284.1l132.3-84.3L0 116.3 132.3 32l132.1 84.3zM131.6 395.7l132-84.3 132 84.3-132 84.3-132-84.3zm132.8-111.6l132-84.3-132-83.6L395.7 32 528 116.3l-132.3 84.3L528 284.8l-132.3 84.3-131.3-85z"/></svg>
      <div class="data-format-item data-format-text">Dropbox</div>
    </a>
    {% endif %}

    {% if datakey.github %}
    <a href="{{ datakey.github }}" class="data-format">
      <svg xmlns="http://www.w3.org/2000/svg" class="data-format-icon" width="20" height="20" viewBox="0 0 496 512" aria-hidden="true" focusable="false">
        <path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      <div class="data-format-item data-format-text">Github</div>
    </a>
    {% endif %}

    {% if datakey.api %}
    <a href="{{ datakey.api }}" class="data-format">
      <svg xmlns="http://www.w3.org/2000/svg" class="data-format-icon" width="20" height="20" viewBox="0 0 384 512" aria-hidden="true" focusable="false">
        <path fill="currentColor" d="M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"/></svg>
      <div class="data-format-item data-format-text">API</div>
    </a>
    {% endif %}
    </div>
  {# ------ /Links to datasets ------ #}

  <div class="flow-150">
    <p class="dataset-description">{{ datakey.description | safe }}</p>
    <p>Time Period: {{ datakey.timePeriod }}</p>
    <div class="dataset-meta">
      <p>Compiled by
        {% if datakey.compiledByHandle %}<a href="https://twitter.com/{{ datakey.compiledByHandle }}">{% endif %}
          {{ datakey.compiledByName }}
        {% if datakey.compiledByHandle %}</a>{% endif %}
      </p>
      <p>Added on <time datetime="{{ datakey.date }}">{{ datakey.date }}</time></p>
    </div>

    {% if datakey.additionalInfoTitle %}
    <div class="dataset-additional-info">
      <{{ headingLevelAdditional if headingLevelAdditional else 'h3' }} class="heading-additional-info">Additional Information</{{ headingLevelAdditional if headingLevelAdditional else 'h3' }}>
      <p>
        <span class="visually-hidden">Link opens in a new tab or window</span>
        <a href="{{ datakey.additionalInfoLink }}" rel="nofollow noopener" target="_blank">{{ datakey.additionalInfoTitle | safe }}
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-1-25x" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <path stroke="none" d="M0 0h24v24H0z"/>
            <path d="M11 7h-5a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-5" />
            <line x1="10" y1="14" x2="20" y2="4" />
            <polyline points="15 4 20 4 20 9" />
          </svg></a>
      </p>
      {% if datakey.additionalInfoTitle2 %}
      <p>
        <span class="visually-hidden">Link opens in a new tab or window</span>
        <a href="{{ datakey.additionalInfoLink2 }}" rel="nofollow noopener" target="_blank">{{ datakey.additionalInfoTitle2 | safe }}
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-1-25x" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <path stroke="none" d="M0 0h24v24H0z"/>
            <path d="M11 7h-5a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-5" />
            <line x1="10" y1="14" x2="20" y2="4" />
            <polyline points="15 4 20 4 20 9" />
          </svg></a>
      </p>
      {% endif %}
      </div>

    {% endif %}

    {% if datakey.tags %}
    <nav aria-label="Categories for this dataset">
      <ul class="tag-list">
        {% for tag in datakey.tags %}
        <li><a href="/{{ tag | slug }}/">{{ tag }}</a></li>
        {% endfor %}
      </ul>
    </nav>
    {% endif %}
  </div>
</article>
